.org 0x00
	JMP R0,#64

.org 0x4000
	HALT

.org 0x40
	LDI R2,#1023
	LDI R3,#1023
	LDI R1,#16384
	SUB R3,R3,#1
	STX R1,R3,#0
	LDI R1,:FUNCTION_main
	JMP R1,#0



FUNCTION_MUL:
	SUB R3,R3,#1
	STX R12,R3,#0
	SUB R3,R3,#1
	STX R13,R3,#0
	LDI R12,#0
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_0
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_0:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_1
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_1:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_2
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_2:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_3
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_3:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_4
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_4:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_5
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_5:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_6
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_6:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_7
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_7:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_8
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_8:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_9
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_9:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_10
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_10:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_11
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_11:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_12
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_12:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_13
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_13:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_14
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_14:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_15
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_15:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_16
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_16:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_17
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_17:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_18
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_18:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_19
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_19:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_20
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_20:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_21
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_21:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_22
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_22:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_23
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_23:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_24
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_24:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_25
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_25:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_26
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_26:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_27
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_27:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_28
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_28:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_29
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_29:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_30
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_30:
	RL R4,R4,#1
	RR R5,R5,#1
	ADD R13,R5,#1
	CMP R13,#0
	BNE SKIP_MUL_ADD_BIT_31
	ADD R12,R12,R4
SKIP_MUL_ADD_BIT_31:
	RL R4,R4,#1
	RR R5,R5,#1
	MOV R4,R12
	LDX R13,R3,#0
	ADD R3,R3,#1
	LDX R12,R3,#0
	ADD R3,R3,#1



FUNCTION_DIV:
	SUB R3,R3,#1
	STX R12,R3,#0
	SUB R3,R3,#1
	STX R13,R3,#0
	SUB R3,R3,#1
	STX R14,R3,#0
	SUB R3,R3,#1
	STX R15,R3,#0
	SUB R3,R3,#1
	STX R16,R3,#0
	LDI R12,#0
	LDI R13,#0
	RR R15,R4,#31
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_0
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#31
	OR R12,R12,R15
SKIP_DIV_BIT_0:
	RR R15,R4,#30
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_1
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#30
	OR R12,R12,R15
SKIP_DIV_BIT_1:
	RR R15,R4,#29
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_2
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#29
	OR R12,R12,R15
SKIP_DIV_BIT_2:
	RR R15,R4,#28
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_3
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#28
	OR R12,R12,R15
SKIP_DIV_BIT_3:
	RR R15,R4,#27
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_4
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#27
	OR R12,R12,R15
SKIP_DIV_BIT_4:
	RR R15,R4,#26
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_5
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#26
	OR R12,R12,R15
SKIP_DIV_BIT_5:
	RR R15,R4,#25
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_6
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#25
	OR R12,R12,R15
SKIP_DIV_BIT_6:
	RR R15,R4,#24
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_7
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#24
	OR R12,R12,R15
SKIP_DIV_BIT_7:
	RR R15,R4,#23
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_8
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#23
	OR R12,R12,R15
SKIP_DIV_BIT_8:
	RR R15,R4,#22
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_9
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#22
	OR R12,R12,R15
SKIP_DIV_BIT_9:
	RR R15,R4,#21
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_10
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#21
	OR R12,R12,R15
SKIP_DIV_BIT_10:
	RR R15,R4,#20
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_11
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#20
	OR R12,R12,R15
SKIP_DIV_BIT_11:
	RR R15,R4,#19
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_12
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#19
	OR R12,R12,R15
SKIP_DIV_BIT_12:
	RR R15,R4,#18
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_13
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#18
	OR R12,R12,R15
SKIP_DIV_BIT_13:
	RR R15,R4,#17
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_14
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#17
	OR R12,R12,R15
SKIP_DIV_BIT_14:
	RR R15,R4,#16
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_15
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#16
	OR R12,R12,R15
SKIP_DIV_BIT_15:
	RR R15,R4,#15
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_16
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#15
	OR R12,R12,R15
SKIP_DIV_BIT_16:
	RR R15,R4,#14
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_17
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#14
	OR R12,R12,R15
SKIP_DIV_BIT_17:
	RR R15,R4,#13
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_18
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#13
	OR R12,R12,R15
SKIP_DIV_BIT_18:
	RR R15,R4,#12
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_19
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#12
	OR R12,R12,R15
SKIP_DIV_BIT_19:
	RR R15,R4,#11
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_20
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#11
	OR R12,R12,R15
SKIP_DIV_BIT_20:
	RR R15,R4,#10
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_21
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#10
	OR R12,R12,R15
SKIP_DIV_BIT_21:
	RR R15,R4,#9
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_22
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#9
	OR R12,R12,R15
SKIP_DIV_BIT_22:
	RR R15,R4,#8
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_23
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#8
	OR R12,R12,R15
SKIP_DIV_BIT_23:
	RR R15,R4,#7
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_24
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#7
	OR R12,R12,R15
SKIP_DIV_BIT_24:
	RR R15,R4,#6
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_25
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#6
	OR R12,R12,R15
SKIP_DIV_BIT_25:
	RR R15,R4,#5
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_26
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#5
	OR R12,R12,R15
SKIP_DIV_BIT_26:
	RR R15,R4,#4
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_27
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#4
	OR R12,R12,R15
SKIP_DIV_BIT_27:
	RR R15,R4,#3
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_28
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#3
	OR R12,R12,R15
SKIP_DIV_BIT_28:
	RR R15,R4,#2
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_29
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#2
	OR R12,R12,R15
SKIP_DIV_BIT_29:
	RR R15,R4,#1
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_30
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#1
	OR R12,R12,R15
SKIP_DIV_BIT_30:
	RR R15,R4,#0
	AND R15,R15,#1
	RL R16,R13,#1
	OR R13,R15,R16
	SUB R14,R13,R5
	BGE SKIP_DIV_BIT_31
	SUB R13,R13,R5
	LDI R15,#1
	RL R15,R15,#0
	OR R12,R12,R15
SKIP_DIV_BIT_31:
	MOV R4,R12
	MOV R5,R13
	LDX R16,R3,#0
	ADD R3,R3,#1
	LDX R15,R3,#0
	ADD R3,R3,#1
	LDX R14,R3,#0
	ADD R3,R3,#1
	LDX R13,R3,#0
	ADD R3,R3,#1
	LDX R12,R3,#0
	ADD R3,R3,#1



FUNCTION_main:
	SUB R3,R3,#1
	SUB R3,R3,#1
	LDI R12,#6
	STX R12,R2,#-3
	LDI R12,#4
	ST R12,#0
	LDX R14,R2,#-3
	SUB R3,R3,#1
	STX R14,R3,#0
	LD R14,#0
	SUB R3,R3,#1
	STX R14,R3,#0
	SUB R3,R3,#1
	STX R2,R3,#0
	MOV R2,R3
	SUB R3,R3,#1
	STX R1,R3,#0
	LDI R14,:FUNCTION_foo
	JMPL R1,R14,#0
	ADD R3,R3,#2
	MOV R12,R4
	STX R12,R2,#-2
	LDI R12,#0
	MOV R4,R12
	MOV R3,R2
	SUB R3,R3,#1
	LDX R1,R3,#0
	ADD R3,R3,#1
	LDX R2,R3,#0
	ADD R3,R3,#1
	JMP R1,#0



FUNCTION_foo:
	SUB R3,R3,#1
	LDX R13,R2,#2
	LDI R14,#5
	LDI R12,#1
	CMP R13,R14
	BGT SKIP_0
	LDI R12,#0
SKIP_0:
	CMP R12,#0
	BEQ IF_FALSE_0
	LDX R13,R2,#2
	LDX R14,R2,#1
	ADD R12,R13,R14
	STX R12,R2,#-2
	BRA IF_EXIT_0
IF_FALSE_0:
	LDX R13,R2,#2
	LDX R14,R2,#1
	MOV R4,R13
	MOV R5,R14
	LDI R15,:FUNCTION_FUNCTION_MUL
	JMPL R1,R15,#0
	MOV R12,R4
	STX R12,R2,#-2
IF_EXIT_0:
	LDX R12,R2,#-2
	MOV R4,R12
	MOV R3,R2
	SUB R3,R3,#1
	LDX R1,R3,#0
	ADD R3,R3,#1
	LDX R2,R3,#0
	ADD R3,R3,#1
	JMP R1,#0
